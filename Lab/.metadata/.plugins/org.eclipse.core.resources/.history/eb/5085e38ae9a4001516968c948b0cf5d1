var data = require("data");

var tabbedWin = Ti.UI.createWindow({
	backgroundColor: "#ececec",
	title: "Hi"
});

var tabbedBar = Titanium.UI.iOS.createTabbedBar({
    labels:['TSM', 'C9', 'IMT', 'NRG'],
    backgroundColor:'#336699',
    top:50,
    style:Titanium.UI.iPhone.SystemButtonStyle.BAR,
    height:25,
    width:200
});
var list = Ti.UI.createListView({
	top: 20,
	headerTitle: "Favorite North American Teams",
	defaultItemTemplate: Titanium.UI.LIST_ITEM_TEMPLATE_SUBTITLE,
});

var sectionCollection = [];
for(n in data.listData){
	var section = Ti.UI.createListSection({
		headerTitle: n
	});
	for(var i = 0; i<data.listData[n].length; i++){
		section.setItems(data.listData[n]);
	};
	sectionCollection.push(section);
}

list.setSections(sectionCollection);
tabedWin.add(list, tabbedBar);

exports.tabbedWin = tabbedWin;